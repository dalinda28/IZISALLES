{"remainingRequest":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminReservations.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminReservations.vue","mtime":1644420517284},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IERhdGVwaWNrZXIgZnJvbSAndnVlMy1kYXRlcGlja2VyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXNlcnZhdGlvbicsCiAgY29tcG9uZW50czogewogICAgRGF0ZXBpY2tlcjogRGF0ZXBpY2tlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIEZpbHRyZXMgdXRpbGlzw6lzIHBhciBsJ3V0aWxpc2F0ZXVyIHBvdXIgdHJvdXZlciB1bmUgcsOpc2VydmF0aW9uCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgdXNlck5hbWU6ICIiLAogICAgICAgIHNhbGxlTmFtZTogIiIsCiAgICAgICAgZGF0ZTogIiIsCiAgICAgICAgdGltZTogIiIKICAgICAgfSwKICAgICAgZmlsdGVyUmVzdWx0czogW10sCiAgICAgIC8vIFJlc2VydmF0aW9uIHPDqWxlY3Rpb25uw6llIMOgIHRyYXZlcnMgbGVzIGJvdXRvbnMgIm1vZGlmaWVyIiBldCAic3VwcHJpbWVyIgogICAgICBzZWxlY3RlZFJlc2VydjogW10sCiAgICAgIC8vIFRvdXRlcyBsZXMgcsOpc2VydmF0aW9ucywgdG91dGVzIGxlcyBzYWxsZXMsIHRvdXMgbGVzIHVzZXJzCiAgICAgIHJlc2VydmF0aW9uczogW10sCiAgICAgIHNhbGxlczogW10sCiAgICAgIHVzZXJzOiBbXSwKICAgICAgLy9DaGFxdWUgcsOpc2VydmF0aW9uIGF2ZWMgc2VzIGluZm9zIChkYXRlLGhldXJlLGV0YykgZXQgbGVzIGluZm9zIGRlIGxhIHNhbGxlIHLDqXNlcnbDqWUgKG5vbSBldCBhdXRyZXMgY2FyYWN0w6lyaXN0aXF1ZXMpCiAgICAgIHJlc2VydmF0aW9uc19pbmZvczogW10sCiAgICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICAgIGRhdGVTdHJpbmc6IG51bGwsCiAgICAgIGhldXJlOiBudWxsLAogICAgICAvL0NvbmRpdGlvbiBkJ2FmZmljaGFnZSBkZXMgcG9wLXVwcwogICAgICBzaG93UmVwb25zZU1vZGFsOiBmYWxzZSwKICAgICAgc2hvd01vZGlmTW9kYWw6IGZhbHNlLAogICAgICBzaG93RGVsZXRlTW9kYWw6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXBkYXRlVXNlclJlc2VydmF0aW9uc2RldGFpbHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vZGlmaWVyOiBmdW5jdGlvbiBtb2RpZmllcihldmVudCkgewogICAgICB0aGlzLnNob3dNb2RpZk1vZGFsID0gdHJ1ZTsKICAgICAgdmFyIHJlc2Vydl9pZCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaWQ7CiAgICAgIHRoaXMuc2VsZWN0ZWRSZXNlcnYgPSB0aGlzLnJlc2VydmF0aW9uc19pbmZvcy5maWx0ZXIoZnVuY3Rpb24gKHJlc2VydikgewogICAgICAgIHJldHVybiByZXNlcnYuZGV0YWlsc19yZXNlcnZhdGlvbi5pZCA9PSByZXNlcnZfaWQ7CiAgICAgIH0pWzBdOwogICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSh0aGlzLnNlbGVjdGVkUmVzZXJ2LmRldGFpbHNfcmVzZXJ2YXRpb24uZGF0ZSk7CiAgICAgIHRoaXMuZGF0ZVN0cmluZyA9IHRoaXMuc2VsZWN0ZWRSZXNlcnYuZGV0YWlsc19yZXNlcnZhdGlvbi5kYXRlOwogICAgICB0aGlzLmhldXJlID0gdGhpcy5zZWxlY3RlZFJlc2Vydi5kZXRhaWxzX3Jlc2VydmF0aW9uLmhldXJlOwogICAgfSwKICAgIG9wZW5EZWxldGVEaWFsb2c6IGZ1bmN0aW9uIG9wZW5EZWxldGVEaWFsb2coaWQpIHsKICAgICAgdGhpcy5zaG93RGVsZXRlTW9kYWwgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkUmVzZXJ2ID0gdGhpcy5yZXNlcnZhdGlvbnNfaW5mb3MuZmlsdGVyKGZ1bmN0aW9uIChyZXNlcnYpIHsKICAgICAgICByZXR1cm4gcmVzZXJ2LmRldGFpbHNfcmVzZXJ2YXRpb24uaWQgPT0gaWQ7CiAgICAgIH0pWzBdOwogICAgfSwKICAgIHVwZGF0ZVVzZXJSZXNlcnZhdGlvbnNkZXRhaWxzOiBmdW5jdGlvbiB1cGRhdGVVc2VyUmVzZXJ2YXRpb25zZGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXJ2YXRpb25zID0gW107CiAgICAgIHRoaXMuc2FsbGVzID0gW107CiAgICAgIHRoaXMudXNlcnMgPSBbXTsKICAgICAgdGhpcy5yZXNlcnZhdGlvbnNfaW5mb3MgPSBbXTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1Jlc2VydmF0aW9uc1Jlc291cmNlLnBocCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMucmVzZXJ2YXRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9yZXNlcnZhdGlvbnNfc2FsbGVzL3NyYy9hcGkvY29udHJvbGxlcnMvU2FsbGVzUmVzb3VyY2UucGhwIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLnNhbGxlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9yZXNlcnZhdGlvbnNfc2FsbGVzL3NyYy9hcGkvY29udHJvbGxlcnMvVXNlcnNSZXNvdXJjZS5waHAiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpcy51c2VycyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RoaXMucmVzZXJ2YXRpb25zLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgIHZhciBzYWxsZV9pZCA9IF90aGlzLnJlc2VydmF0aW9uc1tfaV0uaWRfc2FsbGU7CgogICAgICAgICAgICAgIHZhciBzYWxsZSA9IF90aGlzLnNhbGxlcy5maWx0ZXIoZnVuY3Rpb24gKHNhbGxlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc2FsbGUuaWQgPT0gc2FsbGVfaWQ7CiAgICAgICAgICAgICAgfSlbMF07CgogICAgICAgICAgICAgIHZhciB1c2VyX2lkID0gX3RoaXMucmVzZXJ2YXRpb25zW19pXS5pZF91c2VyOwoKICAgICAgICAgICAgICB2YXIgdXNlciA9IF90aGlzLnVzZXJzLmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXIuaWQgPT0gdXNlcl9pZDsKICAgICAgICAgICAgICB9KVswXTsKCiAgICAgICAgICAgICAgX3RoaXMucmVzZXJ2YXRpb25zX2luZm9zW19pXSA9IHsKICAgICAgICAgICAgICAgIGRldGFpbHNfcmVzZXJ2YXRpb246IF90aGlzLnJlc2VydmF0aW9uc1tfaV0sCiAgICAgICAgICAgICAgICBkZXRhaWxzX3NhbGxlOiBzYWxsZSwKICAgICAgICAgICAgICAgIGRldGFpbHNfdXNlcjogdXNlcgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzLmZpbHRlclJlc3VsdHMgPSBbXTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMucmVzZXJ2YXRpb25zX2luZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgX3RoaXMuZmlsdGVyUmVzdWx0c1tpXSA9IF90aGlzLnJlc2VydmF0aW9uc19pbmZvc1tpXTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hSZXNlcnZhdGlvbnNEZXRhaWxzOiBmdW5jdGlvbiByZWZyZXNoUmVzZXJ2YXRpb25zRGV0YWlscygpIHsKICAgICAgdGhpcy5zaG93UmVwb25zZU1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMudXBkYXRlVXNlclJlc2VydmF0aW9uc2RldGFpbHMoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGQpIHsKICAgICAgdmFyIG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSk7CiAgICAgIHZhciBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpOwogICAgICB2YXIgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTsKCiAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSB7CiAgICAgICAgbW9udGggPSAnMCcgKyBtb250aDsKICAgICAgfQoKICAgICAgaWYgKGRheS5sZW5ndGggPCAyKSB7CiAgICAgICAgZGF5ID0gJzAnICsgZGF5OwogICAgICB9CgogICAgICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLmpvaW4oJy0nKTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB0aGlzLnNob3dNb2RpZk1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd1JlcG9uc2VNb2RhbCA9IHRydWU7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2RhdGUnLCB0aGlzLmRhdGVTdHJpbmcpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2hldXJlJywgdGhpcy5oZXVyZSk7CiAgICAgIGF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo4ODg4L3Jlc2VydmF0aW9uc19zYWxsZXMvc3JjL2FwaS9jb250cm9sbGVycy9SZXNlcnZhdGlvbnNSZXNvdXJjZS5waHAiLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgaWRfcmVzZXJ2OiB0aGlzLnNlbGVjdGVkUmVzZXJ2LmRldGFpbHNfcmVzZXJ2YXRpb24uaWQsCiAgICAgICAgaWRfc2FsbGU6IHRoaXMuc2VsZWN0ZWRSZXNlcnYuZGV0YWlsc19zYWxsZS5pZCwKICAgICAgICBkYXRlOiB0aGlzLmRhdGVTdHJpbmcsCiAgICAgICAgaGV1cmU6IHRoaXMuaGV1cmUKICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVwb25zZVJlc2VydiIpLnRleHRDb250ZW50ID0gIkxhIG1vZGlmaWNhdGlvbiBkZSB2b3RyZSByw6lzZXJ2YXRpb24gYSDDqXTDqSB2YWxpZMOpZSBhdmVjIHN1Y2PDqHMiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVwb25zZVJlc2VydiIpLnRleHRDb250ZW50ID0gIkxhIG1vZGlmaWNhdGlvbiBkZSB2b3RyZSByw6lzZXJ2YXRpb24gbidlc3QgcGFzIHZhbGlkZSI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVSZXNlcnY6IGZ1bmN0aW9uIGRlbGV0ZVJlc2VydihyZXNlcnZfaWQpIHsKICAgICAgdGhpcy5zaG93UmVwb25zZU1vZGFsID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93RGVsZXRlTW9kYWwgPSBmYWxzZTsKICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1Jlc2VydmF0aW9uc1Jlc291cmNlLnBocD9pZD0iICsgcmVzZXJ2X2lkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVwb25zZVJlc2VydiIpLnRleHRDb250ZW50ID0gIlZvdHJlIHLDqXNlcnZhdGlvbiDDoCDDqXTDqSBhbm51bMOpZSBhdmVjIHN1Y2PDqHMiOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy9GdW5jdGlvbnMgYWJvdXQgZmlsdGVycwogICAgY2hhbmdlRmlsdGVyUmVzdWx0czogZnVuY3Rpb24gY2hhbmdlRmlsdGVyUmVzdWx0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmZpbHRlclJlc3VsdHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZXNlcnZhdGlvbnNfaW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmZpbHRlclJlc3VsdHNbaV0gPSB0aGlzLnJlc2VydmF0aW9uc19pbmZvc1tpXTsKICAgICAgfQoKICAgICAgdGhpcy5maWx0ZXJSZXN1bHRzID0gdGhpcy5maWx0ZXJzLmlkICE9ICIiID8gdGhpcy5maWx0ZXJSZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzZXJ2KSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHJlc2Vydi5kZXRhaWxzX3Jlc2VydmF0aW9uLmlkLCAxMCkgPT0gcGFyc2VJbnQoX3RoaXMyLmZpbHRlcnMuaWQsIDEwKTsKICAgICAgfSkgOiB0aGlzLmZpbHRlclJlc3VsdHM7CiAgICAgIHRoaXMuZmlsdGVyUmVzdWx0cyA9IHRoaXMuZmlsdGVycy51c2VyTmFtZSAhPSAiIiA/IHRoaXMuZmlsdGVyUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc2VydikgewogICAgICAgIHJldHVybiByZXNlcnYuZGV0YWlsc191c2VyLm5vbS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKF90aGlzMi5maWx0ZXJzLnVzZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHx8IHJlc2Vydi5kZXRhaWxzX3VzZXIucHJlbm9tLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoX3RoaXMyLmZpbHRlcnMudXNlck5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pIDogdGhpcy5maWx0ZXJSZXN1bHRzOwogICAgICB0aGlzLmZpbHRlclJlc3VsdHMgPSB0aGlzLmZpbHRlcnMuc2FsbGVOYW1lICE9ICIiID8gdGhpcy5maWx0ZXJSZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzZXJ2KSB7CiAgICAgICAgcmV0dXJuIHJlc2Vydi5kZXRhaWxzX3NhbGxlLm5vbSA9PT0gX3RoaXMyLmZpbHRlcnMuc2FsbGVOYW1lOwogICAgICB9KSA6IHRoaXMuZmlsdGVyUmVzdWx0czsKICAgICAgdGhpcy5maWx0ZXJSZXN1bHRzID0gdGhpcy5maWx0ZXJzLmRhdGUgIT0gIiIgPyB0aGlzLmZpbHRlclJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChyZXNlcnYpIHsKICAgICAgICByZXR1cm4gcmVzZXJ2LmRldGFpbHNfcmVzZXJ2YXRpb24uZGF0ZSA9PT0gX3RoaXMyLmZvcm1hdERhdGUoX3RoaXMyLmZpbHRlcnMuZGF0ZSk7CiAgICAgIH0pIDogdGhpcy5maWx0ZXJSZXN1bHRzOwogICAgICB0aGlzLmZpbHRlclJlc3VsdHMgPSB0aGlzLmZpbHRlcnMudGltZSAhPSAiIiA/IHRoaXMuZmlsdGVyUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc2VydikgewogICAgICAgIHJldHVybiByZXNlcnYuZGV0YWlsc19yZXNlcnZhdGlvbi5oZXVyZSA9PT0gX3RoaXMyLmZpbHRlcnMudGltZTsKICAgICAgfSkgOiB0aGlzLmZpbHRlclJlc3VsdHM7CiAgICB9LAogICAgZW1wdHlGaWx0ZXJzOiBmdW5jdGlvbiBlbXB0eUZpbHRlcnMoKSB7CiAgICAgIHRoaXMuaWRGaWx0ZXJDb21wdXRlZCA9ICIiOwogICAgICB0aGlzLm5hbWVGaWx0ZXJDb21wdXRlZCA9ICIiOwogICAgICB0aGlzLnNhbGxlRmlsdGVyQ29tcHV0ZWQgPSAiIjsKICAgICAgdGhpcy5kYXRlRmlsdGVyQ29tcHV0ZWQgPSAiIjsKICAgICAgdGhpcy50aW1lRmlsdGVyQ29tcHV0ZWQgPSAiIjsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRlQ29tcHV0ZWQ6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHsKICAgICAgICB0aGlzLmRhdGUgPSBpbnB1dDsKICAgICAgICB0aGlzLmRhdGVTdHJpbmcgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlKTsKICAgICAgfQogICAgfSwKICAgIGhldXJlQ29tcHV0ZWQ6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGV1cmU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7CiAgICAgICAgdGhpcy5oZXVyZSA9IGlucHV0OwogICAgICB9CiAgICB9LAogICAgaWRGaWx0ZXJDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLmlkOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkgewogICAgICAgIHRoaXMuZmlsdGVycy5pZCA9IGlucHV0OwogICAgICAgIHRoaXMuY2hhbmdlRmlsdGVyUmVzdWx0cygpOwogICAgICB9CiAgICB9LAogICAgc2FsbGVGaWx0ZXJDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLnNhbGxlTmFtZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHsKICAgICAgICB0aGlzLmZpbHRlcnMuc2FsbGVOYW1lID0gaW5wdXQ7CiAgICAgICAgdGhpcy5jaGFuZ2VGaWx0ZXJSZXN1bHRzKCk7CiAgICAgIH0KICAgIH0sCiAgICBuYW1lRmlsdGVyQ29tcHV0ZWQ6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVycy51c2VyTmFtZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHsKICAgICAgICB0aGlzLmZpbHRlcnMudXNlck5hbWUgPSBpbnB1dDsKICAgICAgICB0aGlzLmNoYW5nZUZpbHRlclJlc3VsdHMoKTsKICAgICAgfQogICAgfSwKICAgIGRhdGVGaWx0ZXJDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLmRhdGU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7CiAgICAgICAgdGhpcy5maWx0ZXJzLmRhdGUgPSBpbnB1dDsKICAgICAgICB0aGlzLmNoYW5nZUZpbHRlclJlc3VsdHMoKTsKICAgICAgfQogICAgfSwKICAgIHRpbWVGaWx0ZXJDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLnRpbWU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7CiAgICAgICAgdGhpcy5maWx0ZXJzLnRpbWUgPSBpbnB1dDsKICAgICAgICB0aGlzLmNoYW5nZUZpbHRlclJlc3VsdHMoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminReservations.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"container-fluid\">\n            <div class=\"row bar\">\n                <div class=\"col-lg-12 bg-dark\">\n                    <h1 class=\"hellobar text-center text-light display-4 pt-2\">Bonjour {{ $store.state.firstName }}</h1>\n                </div>\n                <div class=\"col-lg-12 bg-secondary\">\n                    <h2 class=\"titlebar text-center text-light display-4 pt-2\">Gestion des réservations</h2>\n                </div>\n            </div>        \n            <div class=\"row\">\n                <div class=\"col-lg-12 pr-0 pl-0\">\n                    <table class=\"table table-striped table-bordered\">\n                        <thead>\n                            <tr class=\"filters\">\n                                <th><input type=\"number\" class=\"form-control\" name=\"id\" id=\"id\" v-model=\"idFilterComputed\" placeholder=\"Id\"></th>\n                                <th>\n                                    <select class=\"form-control\" id=\"nomsSalles\" v-model=\"salleFilterComputed\">\n                                        <option value=\"\">Toutes les salles</option>\n                                        <option v-for=\"(salle, index) in salles\" v-bind:key=\"index\"> {{ salle.nom }} </option>\n                                    </select>\n                                </th>\n                                <th><input type=\"text\" class=\"form-control\" name=\"lastname\" id=\"lastname\" v-model=\"nameFilterComputed\" placeholder=\"Nom\"></th>\n                                <th><datepicker class=\"form-control\" id=\"datePicker\" format=\"DD/MM/yyyy\" v-model=\"dateFilterComputed\"/></th>\n                                <th>\n                                    <select class=\"form-control\" id=\"timeSelect\" v-model=\"timeFilterComputed\">\n                                        <option value=\"\">Tout</option>\n                                        <option value=\"matin\"> Matin </option>\n                                        <option value=\"aprem\"> Après-midi </option>\n                                    </select>\n                                </th>\n                                <th colspan=\"2\"><button  class=\"btn btn-secondary\" name=\"emptyFilters\" id=\"emptyFilters\" @click=\"emptyFilters\">Vider les champs</button></th>\n                            </tr>\n                            <tr class=\"text-center bg-info text-light\">\n                                <th scope=\"col\" class=\"align-middle\">ID de la réservation</th>\n                                <th scope=\"col\" class=\"align-middle\">Nom de la salle </th>\n                                <th scope=\"col\" class=\"align-middle\">Nom de l'utilisateur</th>\n                                <th scope=\"col\" class=\"align-middle\">Date</th>\n                                <th scope=\"col\" class=\"align-middle\">Heure</th>\n                                <th scope=\"col\" colspan=\"2\" class=\"align-middle\"> Actions </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr class=\"text-center\" v-for=\"reservation in filterResults\" v-bind:key=\"reservation.details_reservation.id\" v-bind:id=\"reservation.details_reservation.id\">\n                                <td>{{ reservation.details_reservation.id }}</td>\n                                <td>{{ reservation.details_salle.nom}} </td>\n                                <td>{{ reservation.details_user.nom }} &nbsp;{{ reservation.details_user.prenom }} </td>\n                                <td>{{ reservation.details_reservation.date }}</td>\n                                <td>\n                                    <span v-if=\"reservation.details_reservation.heure === 'matin'\"> Matin</span> \n                                    <span v-else> Après-midi</span> \n                                </td>\n                                <td><button class=\"btn btn-sm btn-info\" @click=\"modifier\" > Modifier </button></td>\n                                <td><button class=\"btn btn-sm btn-danger\" type=\"button\" @click=\"openDeleteDialog(reservation.details_reservation.id)\"> Supprimer </button></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <!-- Popup modification date réservation -->\n            <div class=\"overlay\" v-if=\"showModifModal\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\"> Modification de la date de réservation </h5>\n                            <button type=\"button\" class=\"close\" @click=\"showModifModal=false\">\n                                <span aria-hidden=\"true\">&times; </span>\n                            </button>\n                        </div>\n                        <div class=\"modal-body p-4\">\n                            <div>\n                                <span> Date: <datepicker id=\"datePicker\" v-model=\"dateComputed\"/> </span> <br>   \n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"radio\" name=\"periode\" id=\"periode1\" value=\"matin\" v-model=\"heureComputed\" :checked=\"selectedReserv.details_reservation.heure==='matin'\">\n                                    <label class=\"form-check-label\" for=\"periode1\">\n                                        Matin\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"radio\" name=\"periode\" id=\"periode2\" value=\"aprem\" v-model=\"heureComputed\" :checked=\"selectedReserv.details_reservation.heure==='aprem'\">\n                                    <label class=\"form-check-label\" for=\"periode2\">\n                                        Après-midi\n                                    </label>\n                                </div> <hr>\n                                <span>Nom de salle: {{ selectedReserv.details_salle.nom }}</span> <br>\n                                <span>Nombre de places: {{ selectedReserv.details_salle.places }}</span> <br>\n                                <span>Nombre postes étudiant: {{ selectedReserv.details_salle.postes_etud }}</span> <br>\n                                <span>Poste enseignant:\n                                    <span v-if=\"selectedReserv.details_salle.poste_prof === '1'\"> Oui </span>\n                                    <span v-else> Non </span>\n                                </span> <br>\n                                <span>Climatisation: \n                                    <span v-if=\"selectedReserv.details_salle.climatisation === '1'\"> Oui </span>\n                                    <span v-else> Non </span>\n                                </span> <br>\n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-info\" @click=\"save\" :disabled=\"selectedReserv.details_reservation.date == dateString && selectedReserv.details_reservation.heure == heure\">Confirmer</button>\n                            <button type=\"button\" class=\"btn btn-secondary\" @click=\"showModifModal=false\" data-dismiss=\"modal\">Annuler</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- Popup réponse de la tentative de modification ou de suppression (réussie ou échouée) -->\n            <div class=\"overlay\" v-if=\"showReponseModal\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-body p-4\">\n                            <div>\n                                <p id=\"reponseReserv\"></p>             \n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-secondary\" @click=\"refreshReservationsDetails\" data-dismiss=\"modal\">OK</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!--Supprimer un utilisateur-->\n            <div class=\"overlay\" v-if=\"showDeleteModal\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5>Supprimer une réservation </h5>\n                            <button type=\"button\" class=\"close\" @click=\"showDeleteModal=false\">\n                                <span aria-hidden=\"true\">&times; </span>\n                            </button>\n                        </div>\n                        <div class=\"modal-body p-4\">\n                            <p class=\"modal_msg\"> Êtes vous sûr de supprimer la réservation '{{ selectedReserv.details_reservation.id }}' ?</p>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button class=\"btn btn-danger btn\" @click=\"deleteReserv(selectedReserv.details_reservation.id)\">Oui</button>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                            <button class=\"btn btn-secondary btn\" @click=\"showDeleteModal=false\">Non</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Datepicker from 'vue3-datepicker';\n\nexport default {\n    name: 'Reservation',\n    components: {\n        Datepicker\n    },\n    data() {\n        return {\n            // Filtres utilisés par l'utilisateur pour trouver une réservation\n            filters: {\n                id: \"\", \n                userName: \"\", \n                salleName: \"\", \n                date: \"\",\n                time: \"\"\n            },\n\n            filterResults: [],\n\n            // Reservation sélectionnée à travers les boutons \"modifier\" et \"supprimer\"\n            selectedReserv: [],\n\n            // Toutes les réservations, toutes les salles, tous les users\n            reservations: [],\n            salles: [],\n            users: [],\n\n            //Chaque réservation avec ses infos (date,heure,etc) et les infos de la salle réservée (nom et autres caractéristiques)\n            reservations_infos: [],\n            \n            date: new Date(),\n            dateString: null,\n            heure: null,\n\n            //Condition d'affichage des pop-ups\n            showReponseModal: false,\n            showModifModal: false,\n            showDeleteModal: false\n        }\n    },\n    mounted() {\n        this.updateUserReservationsdetails();\n    },\n    methods: {\n        modifier: function(event){\n            this.showModifModal = true;\n\n            var reserv_id = event.target.parentElement.parentElement.id;\n            this.selectedReserv = this.reservations_infos.filter(reserv => reserv.details_reservation.id == reserv_id)[0];\n\n            this.date = new Date(this.selectedReserv.details_reservation.date);\n            this.dateString = this.selectedReserv.details_reservation.date;\n            this.heure = this.selectedReserv.details_reservation.heure;\n        },\n\n        openDeleteDialog(id){\n            this.showDeleteModal = true;\n            this.selectedReserv = this.reservations_infos.filter(reserv => reserv.details_reservation.id == id)[0];\n        },\n        updateUserReservationsdetails(){\n            this.reservations = [];\n            this.salles = [];\n            this.users = [];\n            this.reservations_infos = [];\n            axios.get(\"http://localhost:8888/reservations_salles/src/api/controllers/ReservationsResource.php\") \n            .then((response) => {\n                this.reservations = response.data;\n\n                axios.get(\"http://localhost:8888/reservations_salles/src/api/controllers/SallesResource.php\")\n                .then((response) => {\n                    this.salles = response.data;\n\n                    axios.get(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\")\n                    .then((response) => {\n                        this.users = response.data;\n                        for (let i = 0; i < this.reservations.length; i++) {\n                            var salle_id = this.reservations[i].id_salle;\n                            var salle = this.salles.filter(salle => salle.id == salle_id)[0];\n                            var user_id = this.reservations[i].id_user;\n                            var user = this.users.filter(user => user.id == user_id)[0];\n                            this.reservations_infos[i] = {details_reservation: this.reservations[i], details_salle: salle, details_user: user};\n                        }\n                        this.filterResults = [];\n                        for (var i=0; i<this.reservations_infos.length; i++){\n                            this.filterResults[i] = this.reservations_infos[i];\n                        }\n                    });\n                });\n            });\n        },\n         refreshReservationsDetails() {\n            this.showReponseModal = false;\n            this.updateUserReservationsdetails();\n        },\n\n        formatDate(d){\n            var month = '' + (d.getMonth() + 1);\n            var day = '' + d.getDate();\n            var year = d.getFullYear();\n\n            if (month.length < 2) {\n                month = '0' + month;\n            }             \n            if (day.length < 2) {\n                day = '0' + day;\n            }             \n            return [year, month, day].join('-');\n        },\n        save(){\n            this.showModifModal = false;\n            this.showReponseModal = true;\n            let formData = new FormData();\n            formData.append('date', this.dateString);\n            formData.append('heure', this.heure);\n            axios.put(\"http://localhost:8888/reservations_salles/src/api/controllers/ReservationsResource.php\", \n            JSON.stringify({\n                id_reserv: this.selectedReserv.details_reservation.id,\n                id_salle: this.selectedReserv.details_salle.id,\n                date: this.dateString,\n                heure: this.heure\n            }))\n            .then((response) => { \n                console.log(response.data);\n                if (response.data){\n                    document.getElementById(\"reponseReserv\").textContent = \"La modification de votre réservation a été validée avec succès\"\n                }\n                else {\n                    document.getElementById(\"reponseReserv\").textContent = \"La modification de votre réservation n'est pas valide\"\n                }\n            });\n        },\n        deleteReserv(reserv_id){\n            this.showReponseModal = true;\n            this.showDeleteModal = false;\n            axios.delete(\"http://localhost:8888/reservations_salles/src/api/controllers/ReservationsResource.php?id=\"+reserv_id)\n                .then ((response) => {\n                    if (response.data){\n                        document.getElementById(\"reponseReserv\").textContent = \"Votre réservation à été annulée avec succès\"\n                    }\n                });\n        },\n\n        //Functions about filters\n\n        changeFilterResults(){\n            this.filterResults = [];\n            for (var i=0; i<this.reservations_infos.length; i++){\n                this.filterResults[i] = this.reservations_infos[i];\n            }\n\n            this.filterResults = this.filters.id != \"\" ? this.filterResults.filter(reserv => parseInt(reserv.details_reservation.id, 10) == parseInt(this.filters.id, 10)) : this.filterResults;\n            this.filterResults = this.filters.userName != \"\" ? this.filterResults.filter(reserv => reserv.details_user.nom.toLowerCase().includes(this.filters.userName.toLowerCase()) || reserv.details_user.prenom.toLowerCase().includes(this.filters.userName.toLowerCase())) : this.filterResults;\n            this.filterResults = this.filters.salleName != \"\" ? this.filterResults.filter(reserv => reserv.details_salle.nom === this.filters.salleName) : this.filterResults;\n            this.filterResults = this.filters.date != \"\" ? this.filterResults.filter(reserv => reserv.details_reservation.date === this.formatDate(this.filters.date)) : this.filterResults;\n            this.filterResults = this.filters.time != \"\" ? this.filterResults.filter(reserv => reserv.details_reservation.heure === this.filters.time) : this.filterResults;\n        },\n\n        emptyFilters(){\n            this.idFilterComputed = \"\";\n            this.nameFilterComputed = \"\";\n            this.salleFilterComputed = \"\";\n            this.dateFilterComputed = \"\";\n            this.timeFilterComputed = \"\";\n        }\n    },\n    computed: {\n    dateComputed: {\n        get: function() {\n            return this.date;\n        },\n        set: function(input) {\n            this.date = input;\n            this.dateString = this.formatDate(this.date);\n        }\n    },\n    heureComputed: {\n        get: function() {\n            return this.heure;\n        },\n        set: function(input) {\n            this.heure = input;    \n        }\n    },\n    idFilterComputed: {\n        get: function() {\n            return this.filters.id;\n        },\n        set: function(input) {\n            this.filters.id = input;\n            this.changeFilterResults()\n        }\n    },\n    salleFilterComputed: {\n        get: function() {\n            return this.filters.salleName;\n        },\n        set: function(input) {\n            this.filters.salleName = input;  \n            this.changeFilterResults()   \n        }\n    },\n    nameFilterComputed: {\n        get: function() {\n            return this.filters.userName;\n        },\n        set: function(input) {\n            this.filters.userName = input; \n            this.changeFilterResults()      \n        }\n    },\n    dateFilterComputed: {\n        get: function() {\n            return this.filters.date;\n        },\n        set: function(input) {\n            this.filters.date = input; \n            this.changeFilterResults()    \n        }\n    },\n    timeFilterComputed: {\n        get: function() {\n            return this.filters.time;\n        },\n        set: function(input) {\n            this.filters.time = input;   \n            this.changeFilterResults()   \n        }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container-fluid {\n    margin:0 auto; \n}\n.hellobar {\n    font-size:25px;\n}\n.titlebar{\n    font-size:18px;\n    padding: 3px;\n}\n.bar {\n    margin-bottom: 5%;\n    margin-top: 5%;\n}\n.overlay{\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.6);\n}\n.modal-dialog{\n    top:15%\n}\n.modal_msg{\n    font-size: 18px;\n}\n.row{\n    background: white;\n}\n\n</style>"],"sourceRoot":""}]}