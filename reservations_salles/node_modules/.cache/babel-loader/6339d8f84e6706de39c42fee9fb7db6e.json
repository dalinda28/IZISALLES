{"remainingRequest":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Inscription.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Inscription.vue","mtime":1644420517286},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCnZhciBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBMZXMgZG9ubsOpZXMgc2Fpc2llcyBwYXIgbCd1dGlsaXNhdGV1cgogICAgICB1c2VyRGF0YTogewogICAgICAgIG5vbTogbnVsbCwKICAgICAgICBwcmVub206IG51bGwsCiAgICAgICAgbWFpbDogbnVsbCwKICAgICAgICBtZHA6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbkFkZFVzZXI6IGZ1bmN0aW9uIGNhbkFkZFVzZXIoKSB7CiAgICAgIGlmICh0aGlzLnVzZXJEYXRhLm5vbSAhPSBudWxsICYmIHRoaXMudXNlckRhdGEucHJlbm9tICE9IG51bGwgJiYgdGhpcy51c2VyRGF0YS5tYWlsICE9IG51bGwgJiYgdGhpcy51c2VyRGF0YS5tZHAgIT0gbnVsbCAmJiB0aGlzLnVzZXJEYXRhLm5vbSAhPSAiIiAmJiB0aGlzLnVzZXJEYXRhLnByZW5vbSAhPSAiIiAmJiB0aGlzLnVzZXJEYXRhLm1haWwgIT0gIiIgJiYgdGhpcy51c2VyRGF0YS5tZHAgIT0gIiIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvL0Fqb3V0ZXIgdW4gdXRpbGlzYXRldXIgZGFucyBsYSBiZGQKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jYW5BZGRVc2VyKCkpIHsKICAgICAgICB2YXIgaGFzaGVkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmModGhpcy51c2VyRGF0YS5tZHAsIDEwKTsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ25vbScsIHRoaXMudXNlckRhdGEubm9tKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3ByZW5vbScsIHRoaXMudXNlckRhdGEucHJlbm9tKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ21haWwnLCB0aGlzLnVzZXJEYXRhLm1haWwpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHJvZmlsJywgJ2Vuc2VpZ25hbnQnKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ21kcCcsIGhhc2hlZFBhc3N3b3JkKTsKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1VzZXJzUmVzb3VyY2UucGhwIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgbXNnID0gIiI7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJpbnNlcnRlZCIpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21zZyIpLnRleHRDb250ZW50ID0gIlZvdHJlIGNvbXB0ZSBhIMOpdMOpIGNyw6nDqSI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnJvcl9tc2ciKS5zdHlsZS5jb2xvciA9ICJncmVlbiI7CiAgICAgICAgICAgIF90aGlzLnVzZXJEYXRhID0gW107CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJleGlzdHNfdXNlcl9zYW1lX21haWwiKSB7CiAgICAgICAgICAgIG1zZyA9ICJDZSBtYWlsIGVzdCBkw6lqw6AgdXRpbGlzw6kgcGFyIHVuIGF1dHJlIHV0aWxpc2F0ZXVyIjsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21zZyIpLnRleHRDb250ZW50ID0gbXNnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbXNnIikuc3R5bGUuY29sb3IgPSAicmVkIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG1zZyA9ICJMZXMgZG9ubsOpZXMgc2Fpc2llcyBuZSBwZXV2ZW50IHBhcyDDqnRyZSBpbnPDqXLDqWVzIjsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21zZyIpLnRleHRDb250ZW50ID0gbXNnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbXNnIikuc3R5bGUuY29sb3IgPSAicmVkIjsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21zZyIpLnRleHRDb250ZW50ID0gIlZldWlsbGV6IHJlbXBsaXIgY29ycmVjdGVtZW50IHRvdXMgbGVzIGNoYW1wcyI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Inscription.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <section class=\"container\">\n            <div class=\"form\">\n                <div class=\"row no-gutters\">\n                    <div class=\"col-lg-5\">\n                        <img src=\"../assets/room2.jpg\" class=\"img-fluid\" alt=\"salle de réunion\">\n                    </div>\n                    <div class=\"col-lg-7 pl-5\" >\n                        <img src=\"../assets/logo.png\" class=\"logo\" alt=\"salle de réunion\">\n                        <div>\n                            <span id=\"error_msg\"></span>\n                            <div class=\"form-row\">\n                                <div class=\"col-lg-7\">\n                                    <input @keyup.enter=\"AddUsers()\" type=\"Nom\" v-model=\"userData.nom\" placeholder=\"Nom\" class=\"form-control my-3 p-4\" required>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"col-lg-7\">\n                                    <input @keyup.enter=\"AddUsers()\" type=\"Prenom\" v-model=\"userData.prenom\" placeholder=\"Prénom\" class=\"form-control my-3 p-4\" required>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"col-lg-7\">\n                                    <input @keyup.enter=\"AddUsers()\" type=\"mail\" v-model=\"userData.mail\" placeholder=\"test@gmail.com\" class=\"form-control my-3 p-4\" required>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"col-lg-7\">\n                                    <input @keyup.enter=\"AddUsers()\" type=\"password\" v-model=\"userData.mdp\" placeholder=\"*********\" class=\"form-control my-3 p-4\" required>\n                                </div>\n                            </div>\n                            <div class=\"form-row\">\n                                <div class=\"col-lg-7\">\n                                    <button type=\"submit\" @click=\"addUser()\" class=\"btn1 mt-3 mb-5\" >S'inscrire</button>\n                                </div>\n                            </div>\n                            \n                            <p>Vous avez déjà un compte ?</p>\n                            <router-link :to=\"{name:'connexion'}\" class=\"nav-link\" href=\"/connexion\">Connexion</router-link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nvar bcrypt = require('bcryptjs');\n\nexport default {\n    name: 'app',\n    data(){\n        return {\n            // Les données saisies par l'utilisateur\n            userData:{\n                nom: null,\n                prenom: null,\n                mail: null,\n                mdp: null,\n            }\n        }\n    },\n    methods:{\n        canAddUser(){\n            if (this.userData.nom != null && this.userData.prenom != null && this.userData.mail != null && this.userData.mdp != null \n            && this.userData.nom != \"\" && this.userData.prenom != \"\" && this.userData.mail != \"\" && this.userData.mdp != \"\"){\n                return true;\n            }\n            else {\n                return false;\n            }\n        },\n\n        //Ajouter un utilisateur dans la bdd\n        addUser(){\n            if (this.canAddUser()) {\n                var hashedPassword = bcrypt.hashSync(this.userData.mdp, 10);     \n\n                let formData = new FormData();\n                formData.append('nom', this.userData.nom);\n                formData.append('prenom', this.userData.prenom);\n                formData.append('mail', this.userData.mail);\n                formData.append('profil', 'enseignant');\n                formData.append('mdp', hashedPassword);\n                \n                axios.post(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\", formData) \n                .then((response) => {\n                    var msg = \"\";\n                    if (response.data === \"inserted\"){\n                        document.getElementById(\"error_msg\").textContent = \"Votre compte a été créé\";\n                        document.getElementById(\"error_msg\").style.color = \"green\";\n                        this.userData = [];\n                    }\n                    else if (response.data === \"exists_user_same_mail\"){\n                        msg = \"Ce mail est déjà utilisé par un autre utilisateur\";\n                        document.getElementById(\"error_msg\").textContent = msg;\n                        document.getElementById(\"error_msg\").style.color = \"red\";\n                    }\n                    else {\n                        msg = \"Les données saisies ne peuvent pas être insérées\";\n                        document.getElementById(\"error_msg\").textContent = msg;\n                        document.getElementById(\"error_msg\").style.color = \"red\";\n                        console.log(response.data);\n                    }\n                })\n            } \n            else{\n                document.getElementById(\"error_msg\").textContent = \"Veuillez remplir correctement tous les champs\";\n            }                         \n        }, \n    }\n}\n</script>\n\n<style scoped>\n*{\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\nbody{\n    padding-top: 5%;\n    background: rgb(245,245,245);\n}\n.container{\n    margin-top: 6%;\n}\n.row{\n    background: white;\n    border-radius: 30px;\n    box-shadow: 12px 12px 22px grey;\n}\nimg{\n    border-top-left-radius: 30px;\n    border-bottom-left-radius: 30px;\n}\n.img-fluid{\n    max-width: 100%;\n    height: auto;\n}\n.logo{\n    width: 150px\n}\n.btn1{\n    border: none;\n    outline:  none;\n    height: 50px;\n    width: 100%;\n    background-color: black;\n    color: white;\n    border-radius: 4px;\n    font-weight: bold;\n}\n.btn1:hover{\n    background-color: white;\n    border: 1px solid;\n    color: black; \n}\n.formulaire{\n    padding-left: 20%; \n    padding-top: 5%;\n}\n\n#error_msg{\n    color:red;\n}\n</style>\n"],"sourceRoot":""}]}