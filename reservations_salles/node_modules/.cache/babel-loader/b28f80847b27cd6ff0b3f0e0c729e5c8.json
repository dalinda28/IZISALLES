{"remainingRequest":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminUsers.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminUsers.vue","mtime":1644420517285},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKdmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vcsOpc3VsdGF0IGR1IGZpbHRyZQogICAgICByZXN1bHRzOiBbXSwKICAgICAgLy8gRmlsdHJlcyB1dGlsaXPDqXMgcGFyIGwnYWRtaW5pc3RyYXRldXIgcG91ciB0cm91dmVyIHVuIHVzZXIKICAgICAgZmlsdGVyczogewogICAgICAgIGlkOiAiIiwKICAgICAgICBsYXN0bmFtZTogIiIsCiAgICAgICAgZmlyc3RuYW1lOiAiIiwKICAgICAgICBtYWlsOiAiIgogICAgICB9LAogICAgICAvLyBUb3VzIGxlcyB1c2VycwogICAgICB1c2VyczogW10sCiAgICAgIC8vIENvbmRpdGlvbiBkJ2FmZmljaGFnZSBkZXMgcG9wLXVwcwogICAgICBzaG93QWRkTW9kYWw6IGZhbHNlLAogICAgICBzaG93RWRpdE1vZGFsOiBmYWxzZSwKICAgICAgc2hvd0RlbGV0ZU1vZGFsOiBmYWxzZSwKICAgICAgLy8gTCd1dGlsaXNhdGV1ciBzw6lsZWN0aW9ubmVyCiAgICAgIHNlbGVjdGVkVXNlcjogW10sCiAgICAgIC8vIExlcyBkb25uw6llcyBkZSBsJ3V0aWxpc2F0ZXVyCiAgICAgIHVzZXJEYXRhOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlZnJlc2hVc2VycygpOwogIH0sCiAgbWV0aG9kczogewogICAgY2FuQWRkVXNlcjogZnVuY3Rpb24gY2FuQWRkVXNlcigpIHsKICAgICAgaWYgKHRoaXMudXNlckRhdGEubm9tICE9IG51bGwgJiYgdGhpcy51c2VyRGF0YS5wcmVub20gIT0gbnVsbCAmJiB0aGlzLnVzZXJEYXRhLm1haWwgIT0gbnVsbCAmJiB0aGlzLnVzZXJEYXRhLm1kcCAhPSBudWxsICYmIHRoaXMudXNlckRhdGEubm9tICE9ICIiICYmIHRoaXMudXNlckRhdGEucHJlbm9tICE9ICIiICYmIHRoaXMudXNlckRhdGEubWFpbCAhPSAiIiAmJiB0aGlzLnVzZXJEYXRhLm1kcCAhPSAiIikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jYW5BZGRVc2VyKCkpIHsKICAgICAgICB2YXIgaGFzaGVkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmModGhpcy51c2VyRGF0YS5tZHAsIDEwKTsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ25vbScsIHRoaXMudXNlckRhdGEubm9tKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3ByZW5vbScsIHRoaXMudXNlckRhdGEucHJlbm9tKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ21haWwnLCB0aGlzLnVzZXJEYXRhLm1haWwpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHJvZmlsJywgJ2Vuc2VpZ25hbnQnKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ21kcCcsIGhhc2hlZFBhc3N3b3JkKTsKICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1VzZXJzUmVzb3VyY2UucGhwIiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgbXNnID0gIiI7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJpbnNlcnRlZCIpIHsKICAgICAgICAgICAgX3RoaXMucmVmcmVzaFVzZXJzKCk7CgogICAgICAgICAgICBfdGhpcy51c2VyRGF0YSA9IFtdOwogICAgICAgICAgICBfdGhpcy5zaG93QWRkTW9kYWwgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PT0gImV4aXN0c191c2VyX3NhbWVfbWFpbCIpIHsKICAgICAgICAgICAgbXNnID0gIkNlIG1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqSBwYXIgdW4gYXV0cmUgdXRpbGlzYXRldXIiOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbXNnMiIpLnRleHRDb250ZW50ID0gbXNnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbXNnID0gIkxlcyBkb25uw6llcyBzYWlzaWVzIG5lIHBldXZlbnQgcGFzIMOqdHJlIGluc8OpcsOpZXMiOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbXNnMiIpLnRleHRDb250ZW50ID0gbXNnOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyb3JfbXNnMiIpLnRleHRDb250ZW50ID0gIlZldWlsbGV6IHJlbXBsaXIgY29ycmVjdGVtZW50IHRvdXMgbGVzIGNoYW1wcyI7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RVc2VyOiBmdW5jdGlvbiBzZWxlY3RVc2VyKGV2ZW50KSB7CiAgICAgIHRoaXMuc2hvd0VkaXRNb2RhbCA9IHRydWU7CiAgICAgIHZhciBjdXJyVXNlcklkID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5pZDsKICAgICAgdGhpcy5zZWxlY3RlZFVzZXIgPSB0aGlzLnVzZXJzLmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICAgIHJldHVybiB1c2VyLmlkID09IGN1cnJVc2VySWQ7CiAgICAgIH0pWzBdOyAvL0NvcHkgZGF0YXMgb2Ygc2VsZWN0VXNlciBpbiB1c2VyRGF0YQoKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuc2VsZWN0ZWRVc2VyKSB7CiAgICAgICAgdGhpcy51c2VyRGF0YVtrZXldID0gdGhpcy5zZWxlY3RlZFVzZXJba2V5XTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVVzZXI6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1VzZXJzUmVzb3VyY2UucGhwIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgIGlkOiB0aGlzLnVzZXJEYXRhLmlkLAogICAgICAgIG5vbTogdGhpcy51c2VyRGF0YS5ub20sCiAgICAgICAgcHJlbm9tOiB0aGlzLnVzZXJEYXRhLnByZW5vbSwKICAgICAgICBtYWlsOiB0aGlzLnVzZXJEYXRhLm1haWwsCiAgICAgICAgbWRwOiB0aGlzLnVzZXJEYXRhLm1kcAogICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gInVwZGF0ZWQiKSB7CiAgICAgICAgICBfdGhpczIuc2hvd0VkaXRNb2RhbCA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMi5yZWZyZXNoVXNlcnMoKTsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJleGlzdHNfdXNlcl9zYW1lX21haWwiKSB7CiAgICAgICAgICB2YXIgbXNnID0gIkNlIG1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqSBwYXIgdW4gYXV0cmUgdXRpbGlzYXRldXIiOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVycm9yX21zZyIpLnRleHRDb250ZW50ID0gbXNnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiUHJvYmzDqG1lIGRhbnMgbGUgc2VydmV1ciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlbkRlbGV0ZU1vZGFsOiBmdW5jdGlvbiBvcGVuRGVsZXRlTW9kYWwoJGlkX3VzZXIpIHsKICAgICAgdGhpcy5zaG93RGVsZXRlTW9kYWwgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkVXNlciA9IHRoaXMudXNlcnMuZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXIuaWQgPT09ICRpZF91c2VyOwogICAgICB9KVswXTsKICAgIH0sCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vT24gc3VwcHJpbWUgdG91dGVzIGxlcyByw6lzZXJ2YXRpb25zIGRlIGwndXNlcgogICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9yZXNlcnZhdGlvbnNfc2FsbGVzL3NyYy9hcGkvY29udHJvbGxlcnMvUmVzZXJ2YXRpb25zUmVzb3VyY2UucGhwP2lkX3VzZXI9IiArIHRoaXMuc2VsZWN0ZWRVc2VyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAib2siKSB7CiAgICAgICAgICAvL09uIHN1cHByaW1lIGwndXNlcgogICAgICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvcmVzZXJ2YXRpb25zX3NhbGxlcy9zcmMvYXBpL2NvbnRyb2xsZXJzL1VzZXJzUmVzb3VyY2UucGhwP2lkPSIgKyBfdGhpczMuc2VsZWN0ZWRVc2VyLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAvL1LDqXBvbnNlIGRlIHJlcXXDqnRlIHLDqXVzc2llCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAib2siKSB7CiAgICAgICAgICAgICAgX3RoaXMzLnNob3dEZWxldGVNb2RhbCA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpczMucmVmcmVzaFVzZXJzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy9BZmZpY2hlciBtZXNzYWdlIGQnZXJyZXVyIHBocAogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9BZmZpY2hlciBtZXNzYWdlIGQnZXJyZXVyIHBocAogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL3JlY2hhcmdlbWVudCAvIHJhZnJhw65jaGlzc2VtZW50IGF1dG9tYXRpcXVlIGRlcyBkb25uw6llcwogICAgcmVmcmVzaFVzZXJzOiBmdW5jdGlvbiByZWZyZXNoVXNlcnMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy51c2VycyA9IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4ODg4L3Jlc2VydmF0aW9uc19zYWxsZXMvc3JjL2FwaS9jb250cm9sbGVycy9Vc2Vyc1Jlc291cmNlLnBocCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LnVzZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczQucmVzdWx0cyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gX3RoaXM0LnVzZXJzKSB7CiAgICAgICAgICBfdGhpczQucmVzdWx0c1trZXldID0gX3RoaXM0LnVzZXJzW2tleV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VSZXN1bHRzOiBmdW5jdGlvbiBjaGFuZ2VSZXN1bHRzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMucmVzdWx0cyA9IFtdOwoKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMudXNlcnMpIHsKICAgICAgICB0aGlzLnJlc3VsdHNba2V5XSA9IHRoaXMudXNlcnNba2V5XTsKICAgICAgfQoKICAgICAgdGhpcy5yZXN1bHRzID0gdGhpcy5maWx0ZXJzLmZpcnN0bmFtZSAhPSAiIiA/IHRoaXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICByZXR1cm4gdXNlci5wcmVub20udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhfdGhpczUuZmlsdGVycy5maXJzdG5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pIDogdGhpcy5yZXN1bHRzOwogICAgICB0aGlzLnJlc3VsdHMgPSB0aGlzLmZpbHRlcnMubGFzdG5hbWUgIT0gIiIgPyB0aGlzLnVzZXJzLmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICAgIHJldHVybiB1c2VyLm5vbS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKF90aGlzNS5maWx0ZXJzLmxhc3RuYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KSA6IHRoaXMucmVzdWx0czsKICAgICAgdGhpcy5yZXN1bHRzID0gdGhpcy5maWx0ZXJzLm1haWwgIT0gIiIgPyB0aGlzLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXIubWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKF90aGlzNS5maWx0ZXJzLm1haWwudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pIDogdGhpcy5yZXN1bHRzOwogICAgICB0aGlzLnJlc3VsdHMgPSB0aGlzLmZpbHRlcnMuaWQgIT0gIiIgPyB0aGlzLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHVzZXIuaWQsIDEwKSA9PSBwYXJzZUludChfdGhpczUuZmlsdGVycy5pZCwgMTApOwogICAgICB9KSA6IHRoaXMucmVzdWx0czsKICAgIH0sCiAgICBlbXB0eUZpbHRlcnM6IGZ1bmN0aW9uIGVtcHR5RmlsdGVycygpIHsKICAgICAgdGhpcy5pZENvbXB1dGVkID0gIiI7CiAgICAgIHRoaXMubGFzdG5hbWVDb21wdXRlZCA9ICIiOwogICAgICB0aGlzLmZpcnN0bmFtZUNvbXB1dGVkID0gIiI7CiAgICAgIHRoaXMubWFpbENvbXB1dGVkID0gIiI7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaWRDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLmlkOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkgewogICAgICAgIHRoaXMuZmlsdGVycy5pZCA9IGlucHV0OwogICAgICAgIHRoaXMuY2hhbmdlUmVzdWx0cygpOwogICAgICB9CiAgICB9LAogICAgbGFzdG5hbWVDb21wdXRlZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzLmxhc3RuYW1lOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbnB1dCkgewogICAgICAgIHRoaXMuZmlsdGVycy5sYXN0bmFtZSA9IGlucHV0OwogICAgICAgIHRoaXMuY2hhbmdlUmVzdWx0cygpOwogICAgICB9CiAgICB9LAogICAgZmlyc3RuYW1lQ29tcHV0ZWQ6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVycy5maXJzdG5hbWU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGlucHV0KSB7CiAgICAgICAgdGhpcy5maWx0ZXJzLmZpcnN0bmFtZSA9IGlucHV0OwogICAgICAgIHRoaXMuY2hhbmdlUmVzdWx0cygpOwogICAgICB9CiAgICB9LAogICAgbWFpbENvbXB1dGVkOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmZpbHRlcnMubWFpbDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5wdXQpIHsKICAgICAgICB0aGlzLmZpbHRlcnMubWFpbCA9IGlucHV0OwogICAgICAgIHRoaXMuY2hhbmdlUmVzdWx0cygpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/AdminUsers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"row bar\">\n            <div class=\"col-lg-12 bg-dark\">\n                <h1 class=\"hellobar text-center text-light display-4 pt-2\">Bonjour {{ $store.state.firstName }}</h1>\n            </div>\n            <div class=\"col-lg-12 bg-secondary\">\n                <h2 class=\"titlebar text-center text-light display-4 pt-2\">Gestion des utilisateurs</h2>\n            </div>\n        </div> \n        <div class=\"row\">\n            <button class=\"col-sm-3 btn btn-info float-center ml-2\" @click=\"showAddModal=true\">\n                Ajouter un nouvel utilisateur \n            </button>\n            <div class=\"col-sm-7\"></div>\n        </div>\n        <hr>\n        <br>\n        <div class=\"row\">\n            <div class=\"col-lg-12 pr-0 pl-0\">\n                <table class=\"table table-striped table-bordered\">\n                    <thead>\n                        <tr class=\"filters\">\n                            <th scope=\"col\"><input type=\"number\" class=\"form-control\" name=\"id\" id=\"id\" v-model=\"idComputed\" placeholder=\"Id\"></th>\n                            <th scope=\"col\"><input type=\"text\" class=\"form-control\" name=\"lastname\" id=\"lastname\" v-model=\"lastnameComputed\" placeholder=\"Nom\"></th>\n                            <th scope=\"col\"><input type=\"text\" class=\"form-control\" name=\"firstname\" id=\"firstname\" v-model=\"firstnameComputed\" placeholder=\"Prénom\"></th>\n                            <th scope=\"col\"><input type=\"text\" class=\"form-control\" name=\"mail\" id=\"mail\" v-model=\"mailComputed\" placeholder=\"Adresse mail\"></th>\n                            <th scope=\"col\" colspan=\"2\"><button class=\"btn btn-secondary\" name=\"emptyFilters\" id=\"emptyFilters\" @click=\"emptyFilters\">Vider les champs</button></th>\n                        </tr>\n                        <tr class=\"text-center bg-info text-light\">\n                            <th scope=\"col\">ID</th>\n                            <th scope=\"col\">Nom</th>\n                            <th scope=\"col\">Prénom</th>\n                            <th scope=\"col\">Email</th>\n                            <th scope=\"col\" colspan=\"2\" class=\"align-middle\"> Actions </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class=\"text-center\" v-for=\"user in results\" :key=\"user.id\" v-bind:id=\"user.id\">\n                            <td>{{ user.id }}</td>\n                            <td>{{ user.nom }}</td>\n                            <td>{{ user.prenom }}</td>\n                            <td>{{ user.mail }}</td>\n                            <td><button class=\"btn btn-sm btn-info\" @click=\"selectUser\"><i class=\"bi bi-pencil-square\"></i>Modifier</button></td>\n                            <td><button class=\"btn btn-sm btn-danger\" @click=\"openDeleteModal(user.id)\"><i class=\"bi bi-pencil-square\"></i>Supprimer</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <!-- Fenêtre d'ajout d'un utilisateur-->\n    <div class=\"overlay\" v-if=\"showAddModal\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">Ajouter un nouvel utilisateur </h5>\n                    <button type=\"button\" class=\"close\" @click=\"showAddModal=false\">\n                        <span aria-hidden=\"true\">&times; </span>\n                    </button>\n                </div>\n                <div class=\"modal-body p-4\">\n                    <form @submit.prevent>\n                        <span id=\"error_msg2\"></span>\n                        <div class=\"form-group\">\n                            <input type=\"text\" v-model=\"userData.nom\" name=\"nom\" class=\"form-control form-control\" placeholder=\"Nom\" required>\n                        </div> \n                        <div class=\"form-group\">\n                            <input type=\"text\" v-model=\"userData.prenom\" name=\"prenom\" class=\"form-control form-control\" placeholder=\"Prénom\" required> \n                        </div>\n                        <div class=\"form-group\">\n                            <input type=\"email\" v-model=\"userData.mail\" name=\"email\" class=\"form-control form-control\" placeholder=\"Email\" required>\n                        </div> \n                        <div class=\"form-group\">\n                            <input type=\"password\" v-model=\"userData.mdp\" name=\"mdp\" class=\"form-control form-control\" placeholder=\"Password\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <button class=\"btn btn-info btn-block\" @click=\"addUser()\" :disabled=\"!canAddUser()\">Ajouter l'utilisateur </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Fenêtre de modification d'un utilisateur-->\n    <div class=\"overlay\" v-if=\"showEditModal\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">Modifier l'utilisateur </h5>\n                    <button type=\"button\" class=\"close\" @click=\"showEditModal=false\">\n                        <span aria-hidden=\"true\">&times; </span>\n                    </button>\n                </div>\n                <div class=\"modal-body p-4\">\n                    <div>\n                        <div class=\"form-group\">\n                            <input type=\"text\" v-model=\"userData.nom\" name=\"nom\" class=\"form-control form-control-lg\" placeholder=\"Nom\">\n                        </div> \n                        <div class=\"form-group\">\n                            <input type=\"text\" v-model=\"userData.prenom\" name=\"prenom\" class=\"form-control form-control-lg\" placeholder=\"Prénom\">\n                        </div>\n                        <div class=\"form-group\">\n                            <input type=\"email\" v-model=\"userData.mail\" name=\"mail\" class=\"form-control form-control-lg\" placeholder=\"Email\">\n                            <span id=\"error_msg\"></span>\n                        </div> \n                        <div class=\"form-group\">\n                            <input type=\"password\" v-model=\"userData.mdp\" name=\"password\" class=\"form-control form-control-lg\" placeholder=\"Password\">\n                        </div>\n                        <div class=\"form-group\">\n                            <button class=\"btn btn-info btn-block btn-lg\" @click=\"updateUser()\">Modifier l'utilisateur </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Suppression d'un utilisateur -->\n    <div class=\"overlay\" v-if=\"showDeleteModal\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">Supprimer un utilisateur </h5>\n                    <button type=\"button\" class=\"close\" @click=\"showDeleteModal=false\">\n                        <span aria-hidden=\"true\">&times; </span>\n                    </button>\n                </div>\n                <div class=\"modal-body p-4\">\n                    <p class=\"modal_msg\"> Êtes-vous sûr de vouloir supprimer '{{ selectedUser.prenom }} {{ selectedUser.nom }}' ?</p>                      \n                </div>\n                <div class=\"modal-footer\">\n                    <button class=\"btn btn-danger btn\" @click=\"deleteUser\">Oui</button>\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <button class=\"btn btn-secondary btn\" @click=\"showDeleteModal=false\">Non</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nvar bcrypt = require('bcryptjs');\n\nexport default {\nname: 'app',\n  data(){\n    return {\n        //résultat du filtre\n        results: [],\n\n        // Filtres utilisés par l'administrateur pour trouver un user\n        filters: {\n            id: \"\", \n            lastname: \"\", \n            firstname: \"\", \n            mail: \"\"\n        },\n\n        // Tous les users\n        users: [],\n\n        // Condition d'affichage des pop-ups\n        showAddModal: false,\n        showEditModal: false,\n        showDeleteModal: false,\n\n        // L'utilisateur sélectionner\n        selectedUser: [],\n\n        // Les données de l'utilisateur\n        userData: []\n    }\n  },\n    mounted() {\n        this.refreshUsers();\n    },\n    methods:{ \n        canAddUser(){\n            if (this.userData.nom != null && this.userData.prenom != null && this.userData.mail != null && this.userData.mdp != null \n            && this.userData.nom != \"\" && this.userData.prenom != \"\" && this.userData.mail != \"\" && this.userData.mdp != \"\"){\n                return true;\n            }\n            else {\n                return false;\n            }\n        },\n\n        addUser(){\n            if (this.canAddUser()) {\n                var hashedPassword = bcrypt.hashSync(this.userData.mdp, 10);     \n\n                let formData = new FormData();\n                formData.append('nom', this.userData.nom);\n                formData.append('prenom', this.userData.prenom);\n                formData.append('mail', this.userData.mail);\n                formData.append('profil', 'enseignant');\n                formData.append('mdp', hashedPassword);\n                \n                axios.post(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\", formData) \n                .then((response) => {\n                    var msg = \"\";\n                    if (response.data === \"inserted\"){\n                        this.refreshUsers(); \n                        this.userData = [];\n                        this.showAddModal=false;\n                    }\n                    else if (response.data === \"exists_user_same_mail\"){\n                        msg = \"Ce mail est déjà utilisé par un autre utilisateur\";\n                        document.getElementById(\"error_msg2\").textContent = msg;\n                    }\n                    else {\n                        msg = \"Les données saisies ne peuvent pas être insérées\";\n                        document.getElementById(\"error_msg2\").textContent = msg;\n                        console.log(response.data);\n                    }\n                })\n            }  \n            else {\n                document.getElementById(\"error_msg2\").textContent = \"Veuillez remplir correctement tous les champs\";\n            }                        \n        }, \n\n        selectUser: function(event){\n            this.showEditModal = true;\n            var currUserId = event.target.parentElement.parentElement.id;\n            this.selectedUser = this.users.filter(user => user.id == currUserId)[0];  \n            //Copy datas of selectUser in userData\n            for (var key in this.selectedUser){\n                this.userData[key] = this.selectedUser[key];\n            }\n        },\n\n        updateUser(){\n            axios.put(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\", \n                JSON.stringify({\n                    id: this.userData.id,\n                    nom: this.userData.nom,\n                    prenom: this.userData.prenom,\n                    mail: this.userData.mail,\n                    mdp: this.userData.mdp\n                }))\n                .then((response) => {\n                    if (response.data === \"updated\"){\n                        this.showEditModal = false;\n                        this.refreshUsers();\n                    }\n                    else if (response.data === \"exists_user_same_mail\") {\n                        var msg = \"Ce mail est déjà utilisé par un autre utilisateur\";\n                        document.getElementById(\"error_msg\").textContent = msg;\n                    }\n                    else {\n                        console.log(\"Problème dans le serveur\");\n                    }\n                })\n        },\n\n        openDeleteModal($id_user){\n            this.showDeleteModal = true;\n            this.selectedUser = this.users.filter(user => user.id === $id_user)[0];\n        },\n\n        deleteUser(){\n            //On supprime toutes les réservations de l'user\n            axios.delete(\"http://localhost:8888/reservations_salles/src/api/controllers/ReservationsResource.php?id_user=\"+this.selectedUser.id)\n            .then((response) => {\n                if (response.data === \"ok\"){\n                    //On supprime l'user\n                    axios.delete(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php?id=\"+this.selectedUser.id)\n                    .then((response) => {\n                        //Réponse de requête réussie\n                        if (response.data === \"ok\"){\n                            this.showDeleteModal = false;\n                            this.refreshUsers();\n                        }\n                        else {\n                            //Afficher message d'erreur php\n                            console.log(response.data);\n                        }\n                     })\n                }\n                else {\n                    //Afficher message d'erreur php\n                    console.log(response.data);\n                }\n            });\n\n        },\n\n        //rechargement / rafraîchissement automatique des données\n        refreshUsers(){\n            this.users = axios.get(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\")\n            .then((response) => {\n                this.users = response.data;\n                this.results = [];\n                for (var key in this.users){\n                    this.results[key] = this.users[key];\n                }\n            });\n        },\n\n        changeResults(){\n            this.results = [];\n            for (var key in this.users){\n                this.results[key] = this.users[key];\n            }\n            this.results = this.filters.firstname != \"\" ? this.results.filter(user => user.prenom.toLowerCase().includes(this.filters.firstname.toLowerCase())) : this.results;\n            this.results = this.filters.lastname != \"\" ? this.users.filter(user => user.nom.toLowerCase().includes(this.filters.lastname.toLowerCase())) : this.results;\n            this.results = this.filters.mail != \"\" ? this.results.filter(user => user.mail.toLowerCase().includes(this.filters.mail.toLowerCase())) : this.results;\n            this.results = this.filters.id != \"\" ? this.results.filter(user => parseInt(user.id, 10) == parseInt(this.filters.id, 10)) : this.results;\n        },\n        emptyFilters(){\n            this.idComputed = \"\";\n            this.lastnameComputed = \"\";\n            this.firstnameComputed = \"\";\n            this.mailComputed = \"\";\n        }\n    },\n    computed: {\n        idComputed: {\n            get: function() {\n                return this.filters.id;\n            },\n            set: function(input) {\n                this.filters.id = input;\n                this.changeResults();\n            }\n        },\n        lastnameComputed: {\n            get: function() {\n                return this.filters.lastname;\n            },\n            set: function(input) {\n                this.filters.lastname = input;\n                this.changeResults();\n            }\n        },\n        firstnameComputed: {\n            get: function() {\n                return this.filters.firstname;\n            },\n            set: function(input) {\n                this.filters.firstname = input;\n                this.changeResults();\n            }\n        },\n        mailComputed: {\n            get: function() {\n                return this.filters.mail;\n            },\n            set: function(input) {\n                this.filters.mail = input;\n                this.changeResults();\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.container-fluid {\n        margin:0 auto; \n}\n.hellobar {\n    font-size:25px;\n}\n.titlebar{\n    font-size:18px;\n    padding: 3px;\n}\n.bar {\n    margin-top: 5%;\n    margin-bottom: 5%;\n    margin-top: 5%;\n}\n\n.overlay{\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.6);\n}\n.modal-dialog{\n    top:15%\n}\n.modal_msg{\n    font-size: 18px;\n}\n#error_msg, #error_msg2 {\n    color: red\n}\n.container-top{\n    display: initial;\n}\n</style>\n"],"sourceRoot":""}]}