{"remainingRequest":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Connexion.vue?vue&type=style&index=0&id=7787917f&scoped=true&lang=css","dependencies":[{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Connexion.vue","mtime":1644420517286},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1616796459000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cip7CiAgICBwYWRkaW5nOiAwOwogICAgbWFyZ2luOiAwOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQpib2R5ewogICAgcGFkZGluZy10b3A6IDUlOwogICAgYmFja2dyb3VuZDogcmdiKDIxNiwyMTYsMjE2KTsKfQouY29udGFpbmVyewogICAgbWFyZ2luLXRvcDogNiU7Cn0KLnJvd3sKICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMzBweDsKICAgIGJveC1zaGFkb3c6IDEycHggMTJweCAyMnB4IGdyZXk7Cn0KLmltZ3Jvb217CiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAzMHB4OwogICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMzBweDsKfQouYnRuMXsKICAgIGJvcmRlcjogbm9uZTsKICAgIG91dGxpbmU6ICBub25lOwogICAgaGVpZ2h0OiA1MHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5idG4xOmhvdmVyewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IDFweCBzb2xpZDsKICAgIGNvbG9yOiBibGFjazsgCn0KLmZhZGUtZW50ZXItYWN0aXZlLAouZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7CiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTsKICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZTsKfQoKLmZhZGUtZW50ZXIsCi5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgb3BhY2l0eTogMAp9Ci5sb2dvewogICAgd2lkdGg6IDE1MHB4Owp9Cg=="},{"version":3,"sources":["/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Connexion.vue"],"names":[],"mappings":"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","file":"/Users/home/Documents/GitHub/room_reservation/reservations_salles/src/views/Connexion.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"container\">\n        <section class=\"form my-5 mx-5 mt-5\">\n            <div class=\"row no-gutters\">\n                <div class=\"col-lg-5\">\n                    <img src=\"../assets/room2.jpg\" class=\"img-fluid\" alt=\"salle de réunion\">\n                </div>\n                <div class=\"col-lg-7 p-5\">\n                    <img src=\"../assets/logo.png\" class=\"logo\" alt=\"salle de réunion\">\n                    <div>\n                        <div class=\"form-row\">\n                            <p class=\"alert alert-danger\" v-if=\"error\">{{ error }}</p>\n                            <p class=\"alert alert-danger\" v-if=\"alert\">{{ alert }}</p>\n                            <div class=\"col-lg-7\">\n                                <input @keyup.enter=\"login()\" type=\"mail\" placeholder=\"test@gmail.fr\" v-model=\"mail\" class=\"form-control my-3 p-4\">\n                            </div>\n                        </div>\n                        <div class=\"form-row\">\n                            <div class=\"col-lg-7\">\n                                <input @keyup.enter=\"login()\" type=\"password\" placeholder=\"*********\" v-model=\"mdp\" class=\"form-control my-3 p-4\">\n                            </div>\n                        </div>\n                        <div class=\"form-row\">\n                            <div class=\"col-lg-7\">\n                                <button type=\"button\" class=\"btn1 mt-3 mb-5\" @click=\"login()\">Se connecter</button>\n                            </div>\n                        </div>\n                        <p>Vous n'avez pas encore de compte ?\n                        <router-link :to=\"{name:'inscription'}\" class=\"nav-link\" href=\"/inscription\">Créer un compte</router-link></p>\n                        <main class=\"App__main\">\n                            <transition\n                                name=\"fade\"\n                                mode=\"out-in\">\n                                <router-view/>\n                            </transition>\n                        </main>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nconst bcrypt = require('bcryptjs');\n\nexport default {\n    data(){\n        return {\n            // Les données saisie par l'utilisateur\n            mail: '',\n            mdp: '',\n\n            // Popup \n            error: '',\n            alert: ''\n        }\n    },\n    methods:{\n        login(){\n            if (this.mail != '' && this.mdp != '') {\n                this.axios.get(\"http://localhost:8888/reservations_salles/src/api/controllers/UsersResource.php\")\n                    .then((response) => {\n                        for (let i = 0; i < response.data.length; i++) {\n                                // Vérification du mot de passe (décryptage) et adresse mail \n                            if (response.status == 200 && this.mail == response.data[i].mail && bcrypt.compareSync(this.mdp, response.data[i].mdp)){\n                                // Enregistrement des données de session    \n                                this.$store.commit(\"setId\", response.data[i].id);\n                                this.$store.commit(\"setFirstName\", response.data[i].prenom);    \n                                this.$store.commit(\"setLastName\", response.data[i].nom);    \n                                this.$store.commit(\"setProfile\", response.data[i].profil);  \n                                this.$store.commit(\"setMail\", response.data[i].mail);\n                                if (this.$store.state.profile === \"enseignant\") {\n                                    this.$router.push('/');\n                                }\n                                else if (this.$store.state.profile === \"administrateur\") {\n                                    this.$router.push('/admin-reservations');\n                                }\n                            }\n                        }\n                        this.alert = \"L'adresse mail ou le mot de passe ne sont pas valides\"\n\n                    })\n                    .catch((error) => { \n                        console.log(error);\n                    });                        \n            } else{\n                this.error = 'Veuillez saisir votre mail et mot de passe.';\n            }\n        },       \n    }\n}\n</script>\n\n<style scoped>\n*{\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\nbody{\n    padding-top: 5%;\n    background: rgb(216,216,216);\n}\n.container{\n    margin-top: 6%;\n}\n.row{\n    background: white;\n    border-radius: 30px;\n    box-shadow: 12px 12px 22px grey;\n}\n.imgroom{\n    border-top-left-radius: 30px;\n    border-bottom-left-radius: 30px;\n}\n.btn1{\n    border: none;\n    outline:  none;\n    height: 50px;\n    width: 100%;\n    background-color: black;\n    color: white;\n    border-radius: 4px;\n    font-weight: bold;\n}\n.btn1:hover{\n    background-color: white;\n    border: 1px solid;\n    color: black; \n}\n.fade-enter-active,\n.fade-leave-active {\n  transition-duration: 0.3s;\n  transition-property: opacity;\n  transition-timing-function: ease;\n}\n\n.fade-enter,\n.fade-leave-active {\n  opacity: 0\n}\n.logo{\n    width: 150px;\n}\n</style>\n"]}]}